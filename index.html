<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>linux</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:first-child { margin-top: -20px; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root { --side-bar-bg-color: #fafafa; --control-text-color: #777; }
html { font-size: 16px; -webkit-font-smoothing: antialiased; }
body { font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, "Segoe UI Emoji", sans-serif; color: rgb(0, 64, 80); line-height: 1.6; }
#write { max-width: 860px; margin: 0px auto; padding: 30px 30px 100px; }
@media only screen and (min-width: 1400px) {
  #write { max-width: 1024px; }
}
@media only screen and (min-width: 1800px) {
  #write { max-width: 1200px; }
}
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
a { color: rgb(65, 131, 196); }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit; }
h2 tt, h2 code { font-size: inherit; }
h3 tt, h3 code { font-size: inherit; }
h4 tt, h4 code { font-size: inherit; }
h5 tt, h5 code { font-size: inherit; }
h6 tt, h6 code { font-size: inherit; }
h1 { font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
h2 { font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
h3 { font-size: 1.5em; line-height: 1.43; }
h4 { font-size: 1.25em; }
h5 { font-size: 1em; }
h6 { font-size: 1em; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 2px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; overflow: hidden; box-sizing: content-box; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-left: 5px solid rgb(66, 185, 131); padding: 8px 15px; color: rgb(33, 93, 66); background-color: rgb(243, 245, 247); }
blockquote blockquote { padding-right: 0px; }
table { padding: 0px; word-break: initial; }
table tr { border: 1px solid rgb(223, 226, 229); margin: 0px; padding: 0px; }
table tr:nth-child(2n), thead { background-color: rgb(248, 248, 248); }
table th { font-weight: bold; border-width: 1px 1px 0px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-top-color: rgb(223, 226, 229); border-right-color: rgb(223, 226, 229); border-left-color: rgb(223, 226, 229); border-image: initial; border-bottom-style: initial; border-bottom-color: initial; margin: 0px; padding: 6px 13px; }
table td { border: 1px solid rgb(223, 226, 229); margin: 0px; padding: 6px 13px; }
table th:first-child, table td:first-child { margin-top: 0px; }
table th:last-child, table td:last-child { margin-bottom: 0px; }
.CodeMirror-lines { padding-left: 4px; }
.code-tooltip { box-shadow: rgba(0, 28, 36, 0.3) 0px 1px 1px 0px; border-top: 1px solid rgb(238, 242, 242); }
.md-fences, code, tt { border: 1px solid rgb(231, 234, 237); background-color: rgb(248, 248, 248); border-radius: 3px; padding: 2px 4px 0px; font-size: 0.9em; }
code { background-color: rgb(243, 244, 244); padding: 2px; color: rgb(209, 37, 115); }
.md-fences { margin-bottom: 15px; margin-top: 15px; padding-top: 8px; padding-bottom: 6px; }
.md-task-list-item > input { margin-left: -1.3em; }
@media print {
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { word-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
.md-mathjax-midline { background: rgb(250, 250, 250); }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border-radius: 3px; padding: 2px 0px 0px 4px; font-size: 0.9em; color: inherit; }
.md-tag { color: rgb(167, 167, 167); opacity: 1; }
.md-toc { margin-top: 20px; padding-bottom: 20px; }
.sidebar-tabs { border-bottom: none; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }
.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }
.mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); }
.md-lang { color: rgb(180, 101, 77); }
#md-notification .btn { border: 0px; }
.dropdown-menu .divider { border-color: rgb(229, 229, 229); opacity: 0.4; }
.ty-preferences .window-content { background-color: rgb(250, 250, 250); }
.ty-preferences .nav-group-item.active { color: white; background: rgb(153, 153, 153); }
.menu-item-container a.menu-style-btn { background-color: rgb(245, 248, 250); background-image: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0)); }
#write mark { background: transparent; color: rgb(216, 105, 105); font-weight: bold; }
p .md-image:only-child { width: auto; text-align: left; }


.cm-s-inner { background-color: rgb(38, 50, 56); color: rgb(233, 237, 237); }
.cm-s-inner .CodeMirror-gutters { background: rgb(38, 50, 56); color: rgb(83, 127, 126); border: none; }
.cm-s-inner .CodeMirror-guttermarker, .cm-s-inner .CodeMirror-guttermarker-subtle, .cm-s-inner .CodeMirror-linenumber { color: rgb(83, 127, 126); }
.cm-s-inner .CodeMirror-cursor { border-left: 1px solid rgb(248, 248, 240); }
.cm-s-inner div.CodeMirror-selected { background: rgba(255, 255, 255, 0.15); }
.cm-s-inner.CodeMirror-focused div.CodeMirror-selected { background: rgba(255, 255, 255, 0.1); }
.cm-s-inner .CodeMirror-line::selection, .cm-s-inner .CodeMirror-line > span::selection, .cm-s-inner .CodeMirror-line > span > span::selection { background: rgba(255, 255, 255, 0.1); }
.cm-s-inner .CodeMirror-activeline-background { background: rgba(0, 0, 0, 0); }
.cm-s-inner .cm-keyword { color: rgb(199, 146, 234); }
.cm-s-inner .cm-operator { color: rgb(233, 237, 237); }
.cm-s-inner .cm-variable-2 { color: rgb(128, 203, 196); }
.cm-s-inner .cm-variable-3 { color: rgb(158, 255, 255); }
.cm-s-inner .cm-builtin { color: rgb(222, 203, 107); }
.cm-s-inner .cm-atom { color: rgb(247, 118, 105); }
.cm-s-inner .cm-number { color: rgb(247, 118, 105); }
.cm-s-inner .cm-def { color: rgb(233, 237, 237); }
.cm-s-inner .cm-string { color: rgb(195, 232, 141); }
.cm-s-inner .cm-string-2 { color: rgb(128, 203, 196); }
.cm-s-inner .cm-comment { color: rgb(84, 110, 122); }
.cm-s-inner .cm-variable { color: rgb(158, 255, 255); }
.cm-s-inner .cm-tag { color: rgb(128, 203, 196); }
.cm-s-inner .cm-meta { color: rgb(128, 203, 196); }
.cm-s-inner .cm-attribute { color: rgb(255, 203, 107); }
.cm-s-inner .cm-property { color: rgb(128, 203, 174); }
.cm-s-inner .cm-qualifier { color: rgb(222, 203, 107); }
.cm-s-inner .cm-variable-3 { color: rgb(222, 203, 107); }
.cm-s-inner .cm-tag { color: rgb(255, 83, 112); }
.cm-s-inner .cm-error { color: rgb(255, 255, 255); background-color: rgb(236, 95, 103); }
.cm-s-inner .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }
.md-fences { background-color: rgb(38, 50, 56); color: rgb(233, 237, 237); border: none; }
.md-fences .code-tooltip { background-color: rgb(38, 50, 56); }




</style>
</head>
<body class='typora-export os-windows' >
<div  id='write'  class = 'is-node first-line-indent'><div class='md-toc' mdtype='toc'><p class="md-toc-content"><span class="md-toc-item md-toc-h2" data-ref="n2"><a class="md-toc-inner" href="#header-n2">1. Linux目录结构</a></span><span class="md-toc-item md-toc-h2" data-ref="n48"><a class="md-toc-inner" href="#header-n48">2. Linux远程登录</a></span><span class="md-toc-item md-toc-h2" data-ref="n59"><a class="md-toc-inner" href="#header-n59">3. 远程文件传输</a></span><span class="md-toc-item md-toc-h2" data-ref="n69"><a class="md-toc-inner" href="#header-n69">4. vi和vim编辑器</a></span><span class="md-toc-item md-toc-h2" data-ref="n99"><a class="md-toc-inner" href="#header-n99">5. Linux关机重启</a></span><span class="md-toc-item md-toc-h2" data-ref="n117"><a class="md-toc-inner" href="#header-n117">6. 用户管理</a></span><span class="md-toc-item md-toc-h3" data-ref="n118"><a class="md-toc-inner" href="#header-n118">添加用户：</a></span><span class="md-toc-item md-toc-h3" data-ref="n123"><a class="md-toc-inner" href="#header-n123">修改密码：</a></span><span class="md-toc-item md-toc-h3" data-ref="n128"><a class="md-toc-inner" href="#header-n128">删除用户：</a></span><span class="md-toc-item md-toc-h3" data-ref="n131"><a class="md-toc-inner" href="#header-n131">查询用户：</a></span><span class="md-toc-item md-toc-h3" data-ref="n136"><a class="md-toc-inner" href="#header-n136">切换用户：</a></span><span class="md-toc-item md-toc-h3" data-ref="n141"><a class="md-toc-inner" href="#header-n141">查看当前用户/登录用户：</a></span><span class="md-toc-item md-toc-h2" data-ref="n145"><a class="md-toc-inner" href="#header-n145">7. 用户组</a></span><span class="md-toc-item md-toc-h3" data-ref="n155"><a class="md-toc-inner" href="#header-n155">用户和组相关文件</a></span><span class="md-toc-item md-toc-h2" data-ref="n164"><a class="md-toc-inner" href="#header-n164">8. 指定运行级别</a></span><span class="md-toc-item md-toc-h2" data-ref="n186"><a class="md-toc-inner" href="#header-n186">9. 找回root密码</a></span><span class="md-toc-item md-toc-h2" data-ref="n188"><a class="md-toc-inner" href="#header-n188">10. 帮助指令</a></span><span class="md-toc-item md-toc-h2" data-ref="n194"><a class="md-toc-inner" href="#header-n194">11. 文件目录类常用指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n195"><a class="md-toc-inner" href="#header-n195">pwd指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n198"><a class="md-toc-inner" href="#header-n198">ls指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n204"><a class="md-toc-inner" href="#header-n204">cd指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n208"><a class="md-toc-inner" href="#header-n208">mkdir指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n213"><a class="md-toc-inner" href="#header-n213">rmdir命令</a></span><span class="md-toc-item md-toc-h3" data-ref="n217"><a class="md-toc-inner" href="#header-n217">touch指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n221"><a class="md-toc-inner" href="#header-n221">cp指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n228"><a class="md-toc-inner" href="#header-n228">rm指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n234"><a class="md-toc-inner" href="#header-n234">mv指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n239"><a class="md-toc-inner" href="#header-n239">cat指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n245"><a class="md-toc-inner" href="#header-n245">more指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n256"><a class="md-toc-inner" href="#header-n256">less指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n267"><a class="md-toc-inner" href="#header-n267">echo指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n272"><a class="md-toc-inner" href="#header-n272">head指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n277"><a class="md-toc-inner" href="#header-n277">tail指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n283"><a class="md-toc-inner" href="#header-n283">&gt; 输出重定向指令 和 &gt;&gt; 追加指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n289"><a class="md-toc-inner" href="#header-n289">ln指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n295"><a class="md-toc-inner" href="#header-n295">history指令</a></span><span class="md-toc-item md-toc-h2" data-ref="n299"><a class="md-toc-inner" href="#header-n299">12. 时间日期类指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n300"><a class="md-toc-inner" href="#header-n300">date指令-显示日期</a></span><span class="md-toc-item md-toc-h3" data-ref="n308"><a class="md-toc-inner" href="#header-n308">date指令-设置日期</a></span><span class="md-toc-item md-toc-h3" data-ref="n311"><a class="md-toc-inner" href="#header-n311">cal指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n316"><a class="md-toc-inner" href="#header-n316">find指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n324"><a class="md-toc-inner" href="#header-n324">locate指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n329"><a class="md-toc-inner" href="#header-n329">which指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n332"><a class="md-toc-inner" href="#header-n332">grep 指令和管道符号 |</a></span><span class="md-toc-item md-toc-h1" data-ref="n339"><a class="md-toc-inner" href="#header-n339">14. 压缩和解压类指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n340"><a class="md-toc-inner" href="#header-n340">gzip/gunzip指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n346"><a class="md-toc-inner" href="#header-n346">zip/unzip指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n355"><a class="md-toc-inner" href="#header-n355">tar指令</a></span><span class="md-toc-item md-toc-h2" data-ref="n365"><a class="md-toc-inner" href="#header-n365">15. Linux组介绍</a></span><span class="md-toc-item md-toc-h3" data-ref="n366"><a class="md-toc-inner" href="#header-n366">文件/目录所有者</a></span><span class="md-toc-item md-toc-h3" data-ref="n371"><a class="md-toc-inner" href="#header-n371">创建组</a></span><span class="md-toc-item md-toc-h3" data-ref="n375"><a class="md-toc-inner" href="#header-n375">文件/目录 所在组</a></span><span class="md-toc-item md-toc-h3" data-ref="n378"><a class="md-toc-inner" href="#header-n378">其他组</a></span><span class="md-toc-item md-toc-h3" data-ref="n380"><a class="md-toc-inner" href="#header-n380">改变用户所在组</a></span><span class="md-toc-item md-toc-h3" data-ref="n383"><a class="md-toc-inner" href="#header-n383">权限基本介绍</a></span><span class="md-toc-item md-toc-h3" data-ref="n394"><a class="md-toc-inner" href="#header-n394">rwx 作用到文件</a></span><span class="md-toc-item md-toc-h3" data-ref="n398"><a class="md-toc-inner" href="#header-n398">rwx 作用到目录</a></span><span class="md-toc-item md-toc-h3" data-ref="n403"><a class="md-toc-inner" href="#header-n403">chmod权限修改</a></span><span class="md-toc-item md-toc-h3" data-ref="n412"><a class="md-toc-inner" href="#header-n412">chown修改文件所有者</a></span><span class="md-toc-item md-toc-h3" data-ref="n416"><a class="md-toc-inner" href="#header-n416">chgrp修改文件/目录所在组</a></span><span class="md-toc-item md-toc-h2" data-ref="n418"><a class="md-toc-inner" href="#header-n418">16. crond任务调度</a></span><span class="md-toc-item md-toc-h3" data-ref="n441"><a class="md-toc-inner" href="#header-n441">crond相关指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n445"><a class="md-toc-inner" href="#header-n445">at定时任务</a></span><span class="md-toc-item md-toc-h2" data-ref="n479"><a class="md-toc-inner" href="#header-n479">17. Linux磁盘分区、挂载</a></span><span class="md-toc-item md-toc-h3" data-ref="n480"><a class="md-toc-inner" href="#header-n480">Linux分区</a></span><span class="md-toc-item md-toc-h3" data-ref="n490"><a class="md-toc-inner" href="#header-n490">增加一块硬盘</a></span><span class="md-toc-item md-toc-h3" data-ref="n510"><a class="md-toc-inner" href="#header-n510">磁盘情况查询</a></span><span class="md-toc-item md-toc-h3" data-ref="n513"><a class="md-toc-inner" href="#header-n513">查询指定目录的磁盘占用情况</a></span><span class="md-toc-item md-toc-h3" data-ref="n521"><a class="md-toc-inner" href="#header-n521">磁盘情况查询</a></span><span class="md-toc-item md-toc-h2" data-ref="n528"><a class="md-toc-inner" href="#header-n528">18. 网络配置</a></span><span class="md-toc-item md-toc-h3" data-ref="n530"><a class="md-toc-inner" href="#header-n530">查看网络IP和网关</a></span><span class="md-toc-item md-toc-h3" data-ref="n533"><a class="md-toc-inner" href="#header-n533">查看linux的网络配置ifconfig</a></span><span class="md-toc-item md-toc-h3" data-ref="n537"><a class="md-toc-inner" href="#header-n537">ping测试主机之间网络连通性</a></span><span class="md-toc-item md-toc-h3" data-ref="n539"><a class="md-toc-inner" href="#header-n539">linux网络环境配置</a></span><span class="md-toc-item md-toc-h2" data-ref="n627"><a class="md-toc-inner" href="#header-n627">20. 服务管理</a></span><span class="md-toc-item md-toc-h3" data-ref="n629"><a class="md-toc-inner" href="#header-n629">service指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n634"><a class="md-toc-inner" href="#header-n634">查看服务名</a></span><span class="md-toc-item md-toc-h3" data-ref="n640"><a class="md-toc-inner" href="#header-n640">服务的运行级别</a></span><span class="md-toc-item md-toc-h3" data-ref="n649"><a class="md-toc-inner" href="#header-n649">CentOS7后运行级别说明</a></span><span class="md-toc-item md-toc-h3" data-ref="n657"><a class="md-toc-inner" href="#header-n657">chkconfig指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n667"><a class="md-toc-inner" href="#header-n667">systemctl指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n670"><a class="md-toc-inner" href="#header-n670">systemctl设置服务的自启动状态</a></span><span class="md-toc-item md-toc-h3" data-ref="n679"><a class="md-toc-inner" href="#header-n679">打开或关闭端口</a></span><span class="md-toc-item md-toc-h3" data-ref="n686"><a class="md-toc-inner" href="#header-n686">动态监控进程</a></span><span class="md-toc-item md-toc-h3" data-ref="n701"><a class="md-toc-inner" href="#header-n701">监控网络状态</a></span><span class="md-toc-item md-toc-h2" data-ref="n710"><a class="md-toc-inner" href="#header-n710">21. RPM与YUM</a></span><span class="md-toc-item md-toc-h3" data-ref="n711"><a class="md-toc-inner" href="#header-n711">RPM</a></span><span class="md-toc-item md-toc-h3" data-ref="n713"><a class="md-toc-inner" href="#header-n713">rpm包的简单查询指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n718"><a class="md-toc-inner" href="#header-n718">rpm包名基本格式</a></span><span class="md-toc-item md-toc-h3" data-ref="n723"><a class="md-toc-inner" href="#header-n723">rpm包的其它查询指令</a></span><span class="md-toc-item md-toc-h3" data-ref="n731"><a class="md-toc-inner" href="#header-n731">卸载rpm包</a></span><span class="md-toc-item md-toc-h3" data-ref="n736"><a class="md-toc-inner" href="#header-n736">安装rpm包</a></span><span class="md-toc-item md-toc-h3" data-ref="n742"><a class="md-toc-inner" href="#header-n742">YUM</a></span><span class="md-toc-item md-toc-h2" data-ref="n747"><a class="md-toc-inner" href="#header-n747">22. Shell编程</a></span><span class="md-toc-item md-toc-h3" data-ref="n752"><a class="md-toc-inner" href="#header-n752">脚本的常用执行方式</a></span><span class="md-toc-item md-toc-h3" data-ref="n757"><a class="md-toc-inner" href="#header-n757">第一个shell脚本</a></span><span class="md-toc-item md-toc-h3" data-ref="n763"><a class="md-toc-inner" href="#header-n763">shell变量</a></span><span class="md-toc-item md-toc-h3" data-ref="n779"><a class="md-toc-inner" href="#header-n779">设置环境变量</a></span><span class="md-toc-item md-toc-h3" data-ref="n787"><a class="md-toc-inner" href="#header-n787">位置参数变量</a></span><span class="md-toc-item md-toc-h3" data-ref="n795"><a class="md-toc-inner" href="#header-n795">预定义变量</a></span><span class="md-toc-item md-toc-h3" data-ref="n802"><a class="md-toc-inner" href="#header-n802">运算符</a></span><span class="md-toc-item md-toc-h3" data-ref="n809"><a class="md-toc-inner" href="#header-n809">条件判断</a></span><span class="md-toc-item md-toc-h3" data-ref="n838"><a class="md-toc-inner" href="#header-n838">循环语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n849"><a class="md-toc-inner" href="#header-n849">read读取控制台输入</a></span><span class="md-toc-item md-toc-h3" data-ref="n857"><a class="md-toc-inner" href="#header-n857">系统函数</a></span><span class="md-toc-item md-toc-h3" data-ref="n873"><a class="md-toc-inner" href="#header-n873">自定义函数</a></span><span class="md-toc-item md-toc-h2" data-ref="n877"><a class="md-toc-inner" href="#header-n877">23. Linux高级:日志管理</a></span><span class="md-toc-item md-toc-h3" data-ref="n881"><a class="md-toc-inner" href="#header-n881">系统常用的日志</a></span><span class="md-toc-item md-toc-h3" data-ref="n936"><a class="md-toc-inner" href="#header-n936">日志轮替</a></span><span class="md-toc-item md-toc-h3" data-ref="n938"><a class="md-toc-inner" href="#header-n938">日志轮替文件命名</a></span><span class="md-toc-item md-toc-h3" data-ref="n942"><a class="md-toc-inner" href="#header-n942">logrotate配置文件</a></span><span class="md-toc-item md-toc-h3" data-ref="n947"><a class="md-toc-inner" href="#header-n947">加入日志轮替</a></span><span class="md-toc-item md-toc-h3" data-ref="n953"><a class="md-toc-inner" href="#header-n953">日志轮替机制原理</a></span><span class="md-toc-item md-toc-h3" data-ref="n955"><a class="md-toc-inner" href="#header-n955">查看内存日志</a></span><span class="md-toc-item md-toc-h2" data-ref="n965"><a class="md-toc-inner" href="#header-n965">24. 定制Linux系统</a></span><span class="md-toc-item md-toc-h2" data-ref="n968"><a class="md-toc-inner" href="#header-n968">25. 备份与恢复</a></span><span class="md-toc-item md-toc-h3" data-ref="n972"><a class="md-toc-inner" href="#header-n972">使用dump完成备份</a></span><span class="md-toc-item md-toc-h3" data-ref="n977"><a class="md-toc-inner" href="#header-n977">使用restore完成恢复</a></span><span class="md-toc-item md-toc-h2" data-ref="n990"><a class="md-toc-inner" href="#header-n990">26. Linux可视化管理</a></span><span class="md-toc-item md-toc-h3" data-ref="n991"><a class="md-toc-inner" href="#header-n991">webmin</a></span><span class="md-toc-item md-toc-h3" data-ref="n992"><a class="md-toc-inner" href="#header-n992">bt运维工具</a></span><span class="md-toc-item md-toc-h2" data-ref="n993"><a class="md-toc-inner" href="#header-n993">27. Linux面试题</a></span></p></div><h2><a name='header-n2' class='md-header-anchor '></a>1. Linux目录结构</h2><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8.16406px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cd</span> <span class="cm-operator">/</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ls</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 45px;"></div></div></div></pre><ul><li>1) /bin [常用] (/usr/bin 、 /usr/local/bin)
是 Binary 的缩写, 这个目录存放着最经常使用的命令</li><li>2) /sbin (/usr/sbin 、 /usr/local/sbin)
s 就是 Super User 的意思，这里存放的是系统管理员使用的系统管理程序</li><li>3) /home [常用]
存放普通用户的主目录，在 Linux 中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名</li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8.16406px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">useradd</span> <span class="cm-variable">jack</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">userdel</span> <span class="cm-operator">-</span><span class="cm-variable">r</span> <span class="cm-variable">jack</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 45px;"></div></div></div></pre><ul><li>4) /root [常用]
该目录为系统管理员，也称作超级权限者的用户主目录</li><li>5) /lib 系统开机所需要最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要
用到这些共享库</li><li>6) /lost+found 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件</li><li>7) /etc [常用]
所有的系统管理所需要的配置文件和子目录, 比如安装 mysql 数据库 my.conf</li><li>8) /usr [常用]
这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与 windows 下的 program files 目录</li><li>9) /boot [常用] 存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件</li><li>10) /proc [不能动] 这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息</li><li>11) /srv [不能动] service 缩写，该目录存放一些服务启动之后需要提取的数据</li><li>12) /sys [不能动]这是 linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs[别
动]</li><li>13) /tmp 这个目录是用来存放一些临时文件的</li><li>14) /dev
类似于 windows 的设备管理器，把所有的硬件用文件的形式存储</li><li>15) /media [常用] linux 系统会自动识别一些设备，例如 U 盘、光驱等等，当识别后，linux 会把识别的设备挂载到这个
目录下</li><li>16) /mnt [常用]
系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里的内容了。 d:/myshare</li><li>17) /opt 这是给主机额外安装软件所存放的目录。如安装 ORACLE 数据库就可放到该目录下。默认为空</li><li>18) /usr/local [常用]这是另一个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的程序</li><li>19) /var [常用]这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件</li><li>20) /selinux [security-enhanced linux]SELinux 是一种安全子系统,它能控制程序只能访问特定文件, 有三种工作模式，可以自行设置</li></ul><hr /><h2><a name='header-n48' class='md-header-anchor '></a>2. Linux远程登录</h2><p>ifconfig查看主机ip地址</p><p><img src='https://img-blog.csdnimg.cn/0d4d567978834eda9740e88767a3c1ec.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>Xshell新建连接</p><p>名称：192.168.182.128</p><p>主机：192.168.182.128</p><p>协议：SSH</p><p>端口：22</p><p>一次性接受</p><p>输入用户名密码进行登录</p><hr /><h2><a name='header-n59' class='md-header-anchor '></a>3. 远程文件传输</h2><p>ifconfig查看主机ip地址</p><p>Xftp新建连接</p><p>名称：192.168.182.128</p><p>主机：192.168.182.128</p><p>协议：SFTP</p><p>端口：22</p><p>一次性接受</p><p>输入用户名密码进行登录</p><hr /><h2><a name='header-n69' class='md-header-anchor '></a>4. vi和vim编辑器</h2><ul><li><p>vi 和 vim 常用的三种模式</p><ul><li>正常模式以 vim 打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中， 你可以使用『上下左右』按键移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用『复制、粘贴』来处理你的文件据。</li><li>插入模式按下 i, I, o, O, a, A, r, R 等任何一个字母之后才会进入编辑模式, 一般来说按 i 即可。</li><li>命令行模式输入 esc 再输入：在这个模式当中， 可以提供你相关指令，完成读取、存盘、替换、离开 vim 、显示行号等的动作 则是在此模式中达成。</li></ul></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8.16406px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vim</span> <span class="cm-variable">hello</span>.<span class="cm-variable">java</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">输入i进入编辑模式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">esc</span>:<span class="cm-variable">wq</span> <span class="cm-variable">写入并保存</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">:<span class="cm-variable">wq</span> <span class="cm-variable">保存退出</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">:<span class="cm-variable">q</span> <span class="cm-variable">退出</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">:<span class="cm-variable">q</span><span class="cm-operator">!</span> <span class="cm-variable">强制退出</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 135px;"></div><div class="CodeMirror-gutters" style="display: none; height: 135px;"></div></div></div></pre><p><strong>快捷键</strong></p><ul><li>1) 拷贝当前行 yy , 拷贝当前行向下的 5 行 5yy，并粘贴（输入 p）。</li><li>2) 删除当前行 dd , 删除当前行向下的 5 行 5dd</li><li>3) 在文件中查找某个单词 [命令行下 /关键字 ， 回车 查找 , 输入 n 就是查找下一个 </li><li>4) 设置文件的行号，取消文件的行号.[命令行下 : set nu 和 :set nonu]</li><li>5) 编辑 /etc/profile 文件，在一般模式下, 使用快捷键到该文档的最末行[G]和最首行[gg]</li><li>6) 在一个文件中输入 &quot;hello&quot; ,在一般模式下, 然后又撤销这个动作 u</li><li>7) 编辑 /etc/profile 文件，在一般模式下, 并将光标移动到 , 输入 20,再输入 shift</li></ul><p><strong><em>详情请查看文档</em></strong></p><hr /><h2><a name='header-n99' class='md-header-anchor '></a>5. Linux关机重启</h2><p>1) shutdown –h now  立该进行关机</p><p>2) shutdown -h 1   &quot;hello, 1 分钟后会关机了&quot; (默认shutdown)</p><p>3) shutdown –r now 现在重新启动计算机</p><p>4) halt 关机，作用和上面一样. </p><p>5) reboot 现在重新启动计算机</p><p>6) sync  把内存的数据同步到磁盘</p><p><strong>注意细节</strong></p><p>1) 不管是重启系统还是关闭系统，首先要运行 sync 命令，把内存中的数据写到磁盘中</p><p>2) 目前的 shutdown/reboot/halt 等命令均已经在关机前进行了 sync</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8.16406px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">sync</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">reboot</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">shutdown</span> <span class="cm-operator">-</span><span class="cm-variable">h</span> <span class="cm-variable">now</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 68px;"></div><div class="CodeMirror-gutters" style="display: none; height: 68px;"></div></div></div></pre><p>1) 登录时尽量少用 root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利用普通用户登录，登录后再用”su - 用户名’命令来切换成系统管理员身份. </p><p>2) 在提示符下输入 logout 即可注销用户</p><p><strong>使用细节</strong></p><p>1) logout 注销指令在图形运行级别无效，在运行级别 3 下有效. </p><p>2) 运行级别这个概念，后面给大家</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8.16406px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">su</span> <span class="cm-operator">-</span> <span class="cm-variable">root</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">密码：</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">logout返回用户或注销退出</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 90px;"></div></div></div></pre><hr /><h2><a name='header-n117' class='md-header-anchor '></a>6. 用户管理</h2><h3><a name='header-n118' class='md-header-anchor '></a>添加用户：</h3><p>useradd 用户名 默认该用户的家目录在/home/username</p><p>1) 当创建用户成功后，会自动的创建和用户同名的家目录</p><p>2) 也可以通过 useradd -d 指定目录 新的用户名，给新创建的用户指定家目录</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8.16406px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cd</span> <span class="cm-operator">/</span><span class="cm-variable">home</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">useradd</span> <span class="cm-variable">username</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ls</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">useradd</span> <span class="cm-operator">-</span><span class="cm-variable">d</span> <span class="cm-operator">/</span><span class="cm-variable">home</span><span class="cm-operator">/</span><span class="cm-variable">test</span> <span class="cm-variable">username</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ls</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 135px;"></div><div class="CodeMirror-gutters" style="display: none; height: 135px;"></div></div></div></pre><h3><a name='header-n123' class='md-header-anchor '></a>修改密码：</h3><p>passwd 用户名</p><p>passwd username</p><p>两次输入密码</p><p>(显示当前用户所在的目录 pwd
)</p><h3><a name='header-n128' class='md-header-anchor '></a>删除用户：</h3><p>userdel 用户名 删除用户但保留家目录</p><p>userdel -r 用户名 删除用户以及用户主目录</p><h3><a name='header-n131' class='md-header-anchor '></a>查询用户：</h3><p>id 用户名</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8.16406px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">id</span> <span class="cm-variable">root</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><img src='https://img-blog.csdnimg.cn/e047631bc345452fb2b401eb92dfb7fe.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>当用户不存在时，返回无此用户</p><h3><a name='header-n136' class='md-header-anchor '></a>切换用户：</h3><p>su - 切换用户名</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8.16406px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">su</span> <span class="cm-operator">-</span> <span class="cm-variable">root</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">logout</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 45px;"></div></div></div></pre><p>1) 从权限高的用户切换到权限低的用户，不需要输入密码，反之需要。 </p><p>2) 当需要返回到原来用户时，使用 exit/logout 指令</p><h3><a name='header-n141' class='md-header-anchor '></a>查看当前用户/登录用户：</h3><p>whoami/ who am i</p><p>显示的是第一次登陆的用户信息</p><hr /><h2><a name='header-n145' class='md-header-anchor '></a>7. 用户组</h2><p>新增组：groupadd 组名</p><p>删除组：groupdel 组名</p><p>创建用户时不指定组名，默认生成一个同名组</p><p>1) 增加用户时直接加上组</p><p>2) 指令(基本语法) : useradd –g 用户组 用户名</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n151" mdtype="fences">groupadd groupname
useradd -g groupname username
id username
</pre><p>修改组：</p><p>usermod –g 用户组 用户名</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n154" mdtype="fences">groupadd groupname
usermod -g groupname username
id username
</pre><h3><a name='header-n155' class='md-header-anchor '></a>用户和组相关文件</h3><p>/etc/passwd 文件</p><p>用户（user）的配置文件，记录用户的各种信息
每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录 Shell</p><p>/etc/shadow 文件</p><p>口令的配置文件
每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志</p><p>/etc/group 文件</p><p>组(group)的配置文件，记录 Linux 包含的组的信息
每行含义：组名:口令:组标识号:组内用户列表</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n162" mdtype="fences">vim /etc/passwd
vim /etc/shadow
vim /etc/group
</pre><hr /><h2><a name='header-n164' class='md-header-anchor '></a>8. 指定运行级别</h2><p>运行级别说明：</p><p>0 ：关机</p><p>1 ：单用户【找回丢失密码】</p><p>2：多用户状态没有网络服务</p><p>3：多用户状态有网络服务</p><p>4：系统未使用保留给用户</p><p>5：图形界面</p><p>6：系统重启</p><p>常用运行级别是 3 和 5 ，也可以指定默认运行</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n174" mdtype="fences">init 3
init 5
</pre><p>CentOS7 后运行级别说明</p><p>在 centos7 以前， /etc/inittab 文件中 . 进行了简化 ，如下:</p><p>multi-user.target: analogous to runlevel 3</p><p>graphical.target: analogous to runlevel 5</p><p>To view current default target, run:</p><p>systemctl get-default</p><p>To set a default target, run:</p><p>systemctl set-default TARGET.target</p><p>查看默认运行级别：systemctl get-default</p><p>修改默认运行级别：systemctl set-default mult-user.target  (3级别)<span>	</span>systemctl set-default graphical.target (5级别)</p><hr /><h2><a name='header-n186' class='md-header-anchor '></a>9. 找回root密码</h2><hr /><h2><a name='header-n188' class='md-header-anchor '></a>10. 帮助指令</h2><p>man获得帮助信息：基本语法：man [命令或配置文件]（功能描述：获得帮助信息）</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n190" mdtype="fences">clear
man ls
ls -a
ls -l
选项可以组合使用:ls -la
ls -la /root
</pre><p><img src='https://img-blog.csdnimg.cn/743fa6f3f2454e12b45b942324aaa8e0.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>help指令：基本语法：help 命令 （功能描述：获得 shell 内置命令的帮助信息）</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n193" mdtype="fences">help cd
</pre><h2><a name='header-n194' class='md-header-anchor '></a>11. 文件目录类常用指令</h2><h3><a name='header-n195' class='md-header-anchor '></a>pwd指令</h3><p>作用：显示当前工作目录的绝对路径。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n197" mdtype="fences">pwd
</pre><h3><a name='header-n198' class='md-header-anchor '></a>ls指令</h3><p>基本语法：ls [选项] [目录或是文件]。</p><p>常用选项：</p><p>-a ：显示当前目录所有的文件和目录，包括隐藏的。</p><p>-l ：以列表的方式显示信息。</p><p><img src='https://img-blog.csdnimg.cn/743fa6f3f2454e12b45b942324aaa8e0.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n204' class='md-header-anchor '></a>cd指令</h3><p>基本语法：cd [参数] ：切换到指定目录。</p><p>cd ~ 或 cd ：回到家目录。</p><p>cd .. 回到当前目录的上一级目录。</p><h3><a name='header-n208' class='md-header-anchor '></a>mkdir指令</h3><p>创建目录：基本语法：mkdir [选项] 要创建的目录。</p><p>常用选项：</p><p>-p ：创建多级目录。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n212" mdtype="fences">mkdir /home/filename
mkdir -p /home/file1/file2/file3/...
</pre><h3><a name='header-n213' class='md-header-anchor '></a>rmdir命令</h3><p>作用：删除空目录。</p><p>基本语法：rmdir [选项] 要删除的空目录。</p><p>删除非空目录：rm -rf 要删除的目录。</p><h3><a name='header-n217' class='md-header-anchor '></a>touch指令</h3><p>作用：创建空文件。</p><p>基本语法：touch 文件名称。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n220" mdtype="fences">touch /home/app.txt
</pre><h3><a name='header-n221' class='md-header-anchor '></a>cp指令</h3><p>作用：拷贝文件到指定目录。</p><p>基本语法：cp [选项] source des。</p><p>常用选项：</p><p>-r ：递归复制整个文件夹。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n226" mdtype="fences">cp /home/app.txt /home/file
</pre><p>强制覆盖不提示的方法：\cp。</p><h3><a name='header-n228' class='md-header-anchor '></a>rm指令</h3><p>作用：移除文件或目录。</p><p>基本语法：rm [选项] 要删除的文件或目录。</p><p>常用选项：</p><p>-r ：递归删除整个文件夹。</p><p>-f ： 强制删除不提示。</p><h3><a name='header-n234' class='md-header-anchor '></a>mv指令</h3><p>作用：移动文件与目录或重命名。</p><p> 基本语法：</p><p>重命名：mv oldNameFile newNameFile</p><p>移动文件：mv /temp/movefile /targetFolder</p><h3><a name='header-n239' class='md-header-anchor '></a>cat指令</h3><p>作用：查看文件内容。</p><p>基本语法：cat [选项] 要查看的文件。</p><p>常用选项：</p><p>-n ：显示行号。</p><p>cat 只能浏览文件，而不能修改文件，为了浏览方便，一般会带上 管道命令 | more。</p><h3><a name='header-n245' class='md-header-anchor '></a>more指令</h3><p>more 指令中内置了若
干快捷键(交互的指令。</p><p>基本语法：more 要查看的文件。</p><p>操作说明：</p><p>space：向下翻一页。</p><p>Enter：向下翻一行。</p><p>q：立刻离开，不再显示内容。</p><p>Ctrl+F：向下滚动一屏。</p><p>Ctrl+B：返回上一屏。</p><p>=：输出当前行号。</p><p>:f：输出文件名和当前行的行号。</p><h3><a name='header-n256' class='md-header-anchor '></a>less指令</h3><p>作用：less 指令用来分屏查看文件内容。</p><p>less指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有
较高的效率。</p><p>基本语法：less 要查看的文件。</p><p>操作说明：</p><p>space：向下翻一页。</p><p>[pagedown]：向下翻一页。</p><p>[pageup]：向上翻一页。</p><p>/字串：向下搜索字串，n：向下查找；N：向上查找。</p><p>?字串：向上搜索字串，n：向下查找；N：向上查找。</p><p>q：离开文件。</p><h3><a name='header-n267' class='md-header-anchor '></a>echo指令</h3><p>作用：输出内容到控制台。</p><p>基本语法：echo [选项] [输出内容。</p><p>使用echo指令输出环境变量：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n271" mdtype="fences">echo $PATH
echo $HOSTNAME
echo HelloWorld!
</pre><h3><a name='header-n272' class='md-header-anchor '></a>head指令</h3><p>作用：显示文件的开头部分内容，默认情况下 head 指令显示文件。</p><p>基本语法：</p><p>head 文件 （默认查看文件头 10 行内容）</p><p>head -n 5 文件 (功能描述：查看文件任意行数)</p><h3><a name='header-n277' class='md-header-anchor '></a>tail指令</h3><p>作用：用于输出文件中尾部的内容，默认情况下 tail 指令显示文件的后10行内容。</p><p>基本语法：</p><p>1) tail 文件 （查看文件尾 10 行内容）</p><p>2) tail -n 5 文件 （查看文件尾 任意行数）</p><p>3) tail -f 文件 （时追踪该文档的所有更新。</p><h3><a name='header-n283' class='md-header-anchor '></a>&gt; 输出重定向指令 和 &gt;&gt; 追加指令</h3><p>基本语法：</p><p>1) ls -l &gt; 文件（列表的内容写入文件 a.txt 中（覆盖写））</p><p>2) ls -al &gt;&gt;文件（列表的内容追加到文件 a.txt 的末尾）</p><p>3) cat 文件1 &gt; 文件2（文件1的内容覆盖到文件2）</p><p>4) echo &quot;内容&quot; &gt;&gt; 文件（追加）</p><h3><a name='header-n289' class='md-header-anchor '></a>ln指令</h3><p>作用：软链接，符号链接，类似于 windows 里的快捷方式，主要存放了链接其他文件的路径。</p><p>基本语法：</p><p>ln -s [原文件或目录] [软链接名]（给原文件创建一个软链接）</p><p>删除软连接：rm软链接。</p><p>在pwd 指令查看目录时，仍然看到的是软链接所在目录。</p><h3><a name='header-n295' class='md-header-anchor '></a>history指令</h3><p>作用：查看已经执行过历史命令,也可以执行历史指令。</p><p>基本语法：history（查看已经执行过历史命令）。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n298" mdtype="fences">显示最近使用过的10个指令：history 10
执行历史编号为5的指令：!5
</pre><h2><a name='header-n299' class='md-header-anchor '></a>12. 时间日期类指令</h2><h3><a name='header-n300' class='md-header-anchor '></a>date指令-显示日期</h3><p>作用：显示当前日期。</p><p>基本语法：</p><p>1) date（显示当前时间）</p><p>2) date +%Y（显示当前年份）</p><p>3) date +%m（显示当前月份）</p><p>4) date +%d（显示当前是哪一天）</p><p>5) date &quot;+%Y-%m-%d %H:%M:%S&quot;（显示年月日时分秒）</p><h3><a name='header-n308' class='md-header-anchor '></a>date指令-设置日期</h3><p>基本语法：date -s 字符串时间。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n310" mdtype="fences">date -s "2020-11-03 20:02:10"
</pre><h3><a name='header-n311' class='md-header-anchor '></a>cal指令</h3><p>作用：查看日历。</p><p>基本语法：cal [选项]（不加选项，显示本月日历）</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n314" mdtype="fences">显示2021年的日历
cal 2021
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n315" mdtype="fences">## 13. 搜索查找类指令
</pre><h3><a name='header-n316' class='md-header-anchor '></a>find指令</h3><p>作用：从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端。</p><p>基本语法：find [搜索范围] [选项]</p><p>选项说明：</p><p>-name&lt;查询方式&gt;：按照指定文件名查找文件</p><p>-user&lt;用户名&gt;：查找输入指定用户名的所有文件</p><p>-size&lt;文件大小&gt;：按照指定文件大小查找文件</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n323" mdtype="fences">按文件名：find /home -name app.txt
按用户名：find /home -user root
按文件大小：find / +2M （+n大于，-n小于，n等于，单位有 k,M,G）
</pre><h3><a name='header-n324' class='md-header-anchor '></a>locate指令</h3><p>作用：快速定位文件路径。</p><p>为了保证查询结果的准确度，管理员必须定期更新locate时刻。</p><p>基本语法：locate 搜索文件。</p><p>locate指令基于数据库进行查询，第一次运行前，必须使用updatedb指令创建locate数据库。</p><h3><a name='header-n329' class='md-header-anchor '></a>which指令</h3><p>作用：查看某个指令在哪个目录下</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n331" mdtype="fences">which ls
</pre><h3><a name='header-n332' class='md-header-anchor '></a>grep 指令和管道符号 |</h3><p>grep：过滤查找，管道符 |，表示将前一个命令的处理结果输出传递给后面的命令处理。</p><p>基本语法：grep [选项] 查找内容 源文件。</p><p>常用选项：</p><p>-n 显示匹配行及行号</p><p>-i 忽略大小写</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n338" mdtype="fences">在app.txt文件中查找"he"
cat /home/app.txt | grep "he"
grep -n "he" /home/app.txt
</pre><h1><a name='header-n339' class='md-header-anchor '></a>14. 压缩和解压类指令</h1><h3><a name='header-n340' class='md-header-anchor '></a>gzip/gunzip指令</h3><p>gzip：用于压缩文件</p><p>gunzip：用于解压文件</p><p>基本语法：</p><p>gzip 文件（压缩文件，只能将文件压缩为*.gz文件）</p><p>gunzip 文件.gz（解压缩文件命令）</p><h3><a name='header-n346' class='md-header-anchor '></a>zip/unzip指令</h3><p>zip：用于压缩文件</p><p>unzip：用于解压文件</p><p>基本语法：</p><p>zip [选项] XXX.zip 将要压缩的内容（压缩文件和目录）</p><p>unzip [选项] XXX.zip（解压缩文件）</p><p>zip常用选项-r：递归压缩，即压缩目录</p><p>unzip常用选项-d&lt;目录&gt;：指定解压后文件的存放目录</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n354" mdtype="fences">zip -r myhome.zip /home/

mkdir /opt/tmp
unzip -d /opt/tmp /home/myhome.zip
</pre><h3><a name='header-n355' class='md-header-anchor '></a>tar指令</h3><p>作用：打包，最后打包后的文件是.tar.gz。</p><p>基本语法：tar [选项] XXX.tar.gz 打包的内容（打包目录，压缩后的文件格式.tar.gz）</p><p>选项说明：</p><p>-c：产生.tar打包文件</p><p>-f：指定压缩后的文件名</p><p>-z：打包同时压缩</p><p>-x：解包.tar文件</p><p>-v：显示详细信息</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n364" mdtype="fences">将/home/pig.txt 和 /home/cat.txt 压缩成 pc.tar.gz
tar -zcvf pc.tar.gz /home/pig.txt /home/cat.txt
将/home的文件夹压缩成myhome.tar.gz
tar -zcvf myhome.tar.gz /home/
</pre><h2><a name='header-n365' class='md-header-anchor '></a>15. Linux组介绍</h2><h3><a name='header-n366' class='md-header-anchor '></a>文件/目录所有者</h3><p>文件/目录的所有者：一般为文件的创建者,谁创建了该文件，就自然的成为该文件的所有者。</p><p>查看文件所有者指令：ls –ahl</p><p><img src='https://img-blog.csdnimg.cn/1dfad20728cc48ddaa0a58b41576f2a7.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>修改文件所有者指令：chown 用户名 文件。</p><h3><a name='header-n371' class='md-header-anchor '></a>创建组</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n372" mdtype="fences">groupadd 组名
</pre><p>创建用户，加入指定组：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n374" mdtype="fences">useradd -g groupname username
</pre><h3><a name='header-n375' class='md-header-anchor '></a>文件/目录 所在组</h3><p>当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组(默认)。</p><p>修改文件/目录所在的组：chgrp 组名 文件名。</p><h3><a name='header-n378' class='md-header-anchor '></a>其他组</h3><p>除文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组。</p><h3><a name='header-n380' class='md-header-anchor '></a>改变用户所在组</h3><p>usermod –g 新组名 用户名</p><p>usermod –d 目录名 用户名（改变该用户登陆的初始目录。）【用户需要有进入到新目录的权限。】</p><h3><a name='header-n383' class='md-header-anchor '></a>权限基本介绍</h3><p><img src='https://img-blog.csdnimg.cn/bee6a4cf57cb449a8eef128750ec625a.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>0-9位说明：</p><p>第0位确定文件类型：（d, - , l , c , b）</p><p>l 是链接，相当于windows的快捷方式</p><p>d 是目录，相当于windows的文件夹</p><p>c 是字符设备文件，鼠标，键盘</p><p>b 是块设备，比如硬盘</p><p>第1-3位确定所有者（该文件的所有者）拥有该文件的权限。---User</p><p>第4-6位确定所属组（同用户组的）拥有该文件的权限。---Group</p><p>第7-9位确定其他用户拥有该文件的权限。---Other</p><h3><a name='header-n394' class='md-header-anchor '></a>rwx 作用到文件</h3><p>1) [ r ]代表可读(read): 可以读取,查看。</p><p>2) [ w ]代表可写(write): 可以修改，但是不代表可以删除该文件，删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件。</p><p>3) [ x ]代表可执行(execute):可以被执行。</p><h3><a name='header-n398' class='md-header-anchor '></a>rwx 作用到目录</h3><p>1) [ r ]代表可读(read): 可以读取，ls 查看目录内容。 </p><p>2) [ w ]代表可写(write): 可以修改, 对目录内创建+删除+重命名目录。 </p><p>3) [ x ]代表可执行(execute):可以进入该目录。</p><p>数字表示：r=4,w=2,x=1 所以有：rwx=4+2+1=7</p><h3><a name='header-n403' class='md-header-anchor '></a>chmod权限修改</h3><p><strong>方式一：</strong>+ 、-、= 变更权限。</p><p>u:所有者<span>	</span>g:所有组<span>	</span>o:其他人<span>	</span>a:所有人</p><p>1) chmod u=rwx,g=rx,o=x 文件/目录名</p><p>2) chmod o+w 文件/目录</p><p>3) chmod a-x 文件/目录</p><p><strong>方式二：</strong>数字变更权限。</p><p>chmod u=rwx,g=rx,o=x 文件/目录</p><p>chmod 751 文件/目录</p><h3><a name='header-n412' class='md-header-anchor '></a>chown修改文件所有者</h3><p>chown newowner 文件/目录（改变所有者）</p><p>chown newowner:newgroup 文件/目录（改变所有者和所在组）</p><p>-R；如果是目录，则使其下所有子文件或目录递归生效。</p><h3><a name='header-n416' class='md-header-anchor '></a>chgrp修改文件/目录所在组</h3><p>chgrp newgroup 文件/目录（改变所在组）</p><h2><a name='header-n418' class='md-header-anchor '></a>16. crond任务调度</h2><p>任务调度：是指系统在某个时间执行的特定的命令或程序。</p><ol start='' ><li>系统工作：有些重要的工作必须周而复始地执行。如病毒扫描等</li><li>个别用户工作：个别用户可能希望执行某些程序，比如对 mysql 数据库的备份。</li></ol><p>基本语法：crontab [选项]</p><p>常用选项：</p><p>-e：编辑crontab定时任务</p><p>-l：查询crontab任务</p><p>-r：删除当前用户所有crontab任务</p><p>设置任务调度文件：/etc/crontab</p><p>设置个人任务调度：执行 crontab –e 命令</p><p>*/1 * * * * 执行命令（每小时的每分钟执行命令）</p><p>占位符说明：</p><p><img src='https://img-blog.csdnimg.cn/e40573e0b0024814a8040508f03be47e.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>特殊符号说明：</p><p>*：代表任何时间，第一个 *为一小时的每分钟</p><p>,：代表不连续时间，0 8,12,16 * * * 命令：每天8、12、16点整点执行。</p><p>-：代表连续的时间范围，0 5 * * 1-6 命令：周一到周六5点执行。</p><p>*/n：代表隔多久执行一次， */10 * * * * 命令：每隔10分钟执行一次</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="：" contenteditable="false" cid="n440" mdtype="fences">45 22 * * * 命令：22:45执行
0 5 1,15 * * 命令：每月1号和15号5点执行
</pre><h3><a name='header-n441' class='md-header-anchor '></a>crond相关指令</h3><p>conrtab –r：终止任务调度。</p><p>crontab –l：列出当前的任务调度。</p><p>service crond restart [重启任务调度]。</p><h3><a name='header-n445' class='md-header-anchor '></a>at定时任务</h3><p>1) at 命令是一次性定时计划任务，at 的守护进程 atd 会以后台模式运行，检查作业队列来运行。</p><p>2) 默认情况下，atd 守护进程每 60 秒检查作业队列，有作业时，会检查作业运行时间，如果时间与当前时间匹配，则运行此作业。</p><p>3) at 命令是一次性定时计划任务，执行完一个任务后不再执行此任务。</p><p>4) 在使用 at 命令的时候，一定要保证 atd 进程的启动 , 可以使用相关指令来查看
ps -ef | grep atd。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n450" mdtype="fences">启动atd进程：sudo service atd start
</pre><p>at命令格式：at [选项] [时间]
（Ctrl + D 结束at命令的输入，输两次）</p><p>at命令选项：</p><p>-m：当指定的任务完成后，给用户发送邮件</p><p>-I：atq的别名</p><p>-d：atrm的别名</p><p>-v：显示任务将被执行的时间</p><p>-c：打印任务的内容到标准输出</p><p>-V：显示版本信息</p><p>-q&lt;队列&gt;：使用指定队列</p><p>-f&lt;文件&gt;：从指定文件读入任务而不是标准输入读入</p><p>-t&lt;时间参数&gt;：以时间参数的形式提交要运行的任务</p><p>at时间定义：</p><p>1) 接受在当天的 hh:mm（小时:分钟）式的时间指定。假如该时间已过去，那么就放在第二天执行。 例如：04:00</p><p>2) 使用 midnight（深夜），noon（中午），teatime（饮茶时间，一般是下午 4 点）等比较模糊的词语来指定时间。</p><p>3) 采用 12 小时计时制，即在时间后面加上 AM（上午）或 PM（下午）来说明是上午还是下午。 例如：12pm</p><p>4) 指定命令执行的具体日期，指定格式为 month day（月 日）或 mm/dd/yy（月/日/年）或 dd.mm.yy（日.月.年），指
定的日期必须跟在指定时间的后面。 例如：04:00 2021-03-1</p><p>5) 使用相对计时法。指定格式为：now + count time-units ，now 就是当前时间，time-units 是时间单位，这里能够是 minutes
（分钟）、hours（小时）、days（天）、weeks（星期）。count 是时间的数量，几天，几小时。 例如：now + 5 minutes</p><p>6) 直接使用 today（今天）、tomorrow（明天）来指定完成命令的时间。</p><p>&nbsp;</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n470" mdtype="fences">2天后的下午5点执行 /bin/ls /home：
</pre><p>（ctrl+backspace进行删除）</p><p><img src='https://img-blog.csdnimg.cn/3a5727c05729469fab1af8680d5202a8.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>（最后两次Ctrl+D）</p><p><img src='https://img-blog.csdnimg.cn/a614be10a6614557af28507c3e7600fb.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>执行脚本：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n476" mdtype="fences">at now + 2 minutes
at&gt; /root/my.sh
</pre><p>删除已经设置的任务：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n478" mdtype="fences">atrm 编号
atrm 11
atrm 9 10 6 5
</pre><h2><a name='header-n479' class='md-header-anchor '></a>17. Linux磁盘分区、挂载</h2><h3><a name='header-n480' class='md-header-anchor '></a>Linux分区</h3><p><img src='https://img-blog.csdnimg.cn/2cbbf6d5cf97434d9119efc983c25308.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>Linux 采用了一种叫“载入”的处理方法，它的整个文件系统中包含了一整套的文件和目录，且将一个分区和一个目录
联系起来。</p><p>硬盘说明：</p><p>Linux 硬盘分IDE硬盘和SCSI硬盘。</p><p>对于IDE硬盘，驱动器标识符为“hdx~”,其中“hd”表明分区所在设备的类型，这里是指IDE硬盘。“x”为盘号（a 为基本盘，b为基本从属盘，c为辅助主盘，d为辅助从属盘）,“~”代表分区，前四个分区用数字1到4表示，它们是主分区或扩展分区，从5开始是逻辑分区。例，hda3表示为第一个 IDE 硬盘上的第三个主分区或扩展分区,hdb2表示为第二个IDE硬盘上的第二个主分区或扩展分区。</p><p>对于SCSI硬盘则标识为“sdx~”，SCSI硬盘是用“sd”来表示分区所在设备的类型的，其余则和 IDE 硬盘的表示方法一样。</p><p>查看所有设备的挂载情况：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n488" mdtype="fences">lsblk
或
lsblk -f
</pre><p><img src='https://img-blog.csdnimg.cn/d3a955b82154496c864785f37952e1e7.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n490' class='md-header-anchor '></a>增加一块硬盘</h3><p>1) 虚拟机添加硬盘</p><p>2) 分区</p><p>3) 格式化</p><p>4) 挂载</p><p>5) 设置可以自动挂载</p><p>在【虚拟机】菜单中，选择【设置】，然后设备列表里添加硬盘，然后一路【下一步】，中间只有选择磁盘大小的地方
需要修改，至到完成。然后重启系统（才能识别）！</p><p>分区命令 fdisk /dev/sdb
开始对/sdb 分区</p><p>m 显示命令列表</p><p>p 显示磁盘分区 同 fdisk –l</p><p>n 新增分区</p><p>d 删除分区</p><p>w 写入并退出</p><p>说明： 开始分区后输入 n，新增分区，然后选择 p ，分区类型为主分区。两次回车默认剩余全部空间。最后输入 w
写入分区并退出，若不保存退出输入 q。</p><p>格式化磁盘：分区命令：mkfs -t ext4 /dev/sdb1
（其中 ext4 是分区类型）</p><p>挂载: 将一个分区与一个目录联系起来：</p><p>mount 设备名称 挂载目录
例如：mount /dev/sdb1 /newdisk</p><p>umount 设备名称 或者 挂载目录 例如：umount /newddisk</p><p><strong>用命令行挂载,重启后会失效。</strong></p><p>永久挂载: 通过修改/etc/fstab 实现挂载，添加完成后，执行 mount –a 即刻生效。</p><h3><a name='header-n510' class='md-header-anchor '></a>磁盘情况查询</h3><p>基本语法：df -h。</p><p><img src='https://img-blog.csdnimg.cn/dfc675bf8df54004a89441e2868ee2de.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n513' class='md-header-anchor '></a>查询指定目录的磁盘占用情况</h3><p>基本语法：du -h。（默认为当前目录）</p><p>-s 指定目录占用大小汇总</p><p>-h 带计量单位</p><p>-a 含文件</p><p>--max-depth=1 子目录深度</p><p>-c 列出明细的同时，增加汇总值</p><p><img src='https://img-blog.csdnimg.cn/ba882c6b1ad047678d462eeb7671b6a4.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n521' class='md-header-anchor '></a>磁盘情况查询</h3><p>1) 统计/opt 文件夹下文件的个数：ls -l /opt | grep &quot;^-&quot; | wc -l</p><p>2) 统计/opt 文件夹下目录的个数：ls -l /opt | grep &quot;^d&quot; | wc -l</p><p>3) 统计/opt 文件夹下文件的个数，包括子文件夹里的：ls -lR /opt | grep &quot;^-&quot; | wc -l</p><p>4) 统计/opt 文件夹下目录的个数，包括子文件夹里的：ls -lR /opt | grep &quot;^d&quot; | wc -l<span>		</span></p><p>5) 以树状显示目录结构：tree 目录 ，（没有 tree ,使用 yum install tree 安装）</p><p>&nbsp;</p><h2><a name='header-n528' class='md-header-anchor '></a>18. 网络配置</h2><p><img src='https://img-blog.csdnimg.cn/11e55f0ebded43cda2327c337436a4ab.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n530' class='md-header-anchor '></a>查看网络IP和网关</h3><p><img src='https://img-blog.csdnimg.cn/cda121da807046d3bf82751b69c44155.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p><img src='https://img-blog.csdnimg.cn/c04d1479fc134314b04902daa38b99f9.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n533' class='md-header-anchor '></a>查看linux的网络配置ifconfig</h3><p>&nbsp;</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n535" mdtype="fences">ifconfig -a
</pre><p><img src='https://img-blog.csdnimg.cn/0d4d567978834eda9740e88767a3c1ec.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n537' class='md-header-anchor '></a>ping测试主机之间网络连通性</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n538" mdtype="fences">ping 192.168.0.104
ping www.baidu.com -c 4
</pre><h3><a name='header-n539' class='md-header-anchor '></a>linux网络环境配置</h3><ol start='' ><li><p>自动获取：登陆后，通过界面设置自动获取ip，特点：linux 启动后会自动获取IP,缺点是每次自动获取的 ip地址可能不一样。</p><p><img src='https://img-blog.csdnimg.cn/e4e606d25831414393f13321b576d642.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p></li><li><p>指定ip：直接修改配置文件来指定IP,并可以连接到外网。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n546" mdtype="fences">vi /etc/sysconfig/network-scripts/ifcfg-ens33
</pre><p>要求：将ip地址配置的静态的，比如：ip地址为192.168.182.128</p><p>ifcfg-ens33文件说明：</p><p>DEVICE=eth0<span>	</span>#接口名（设备,网卡）</p><p>HWADDR=00:0C:2x:6x:0x:xx<span>	</span>#MAC 地址</p><p>TYPE=Ethernet<span>	</span>#网络类型（通常是 Ethemet）</p><p>UUID=926a57ba-92c6-4231-bacb-f27e5e6a9f44<span>	</span>#随机 id</p><p>ONBOOT=yes<span>	</span>#系统启动的时候网络接口是否有效（yes/no）</p><p>BOOTPROTO=static<span>	</span>#IP的配置方法[none|static|bootp|dhcp]（引导时不使用协议|静态分配 IP|BOOTP 协议|DHCP 协议）</p><p>IPADDR=192.168.200.130<span>	</span>#ip地址</p><p>GATEWAY=192.168.200.2<span>	</span>#网关</p><p>DNS1=192.168.200.2<span>	</span>#域名解析器</p><p>同时需要修改VM虚拟机的网段与ip地址相同。</p><p>重启网络服务或者重启系统生效：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n560" mdtype="fences">service network restart
reboot
</pre><h3><a name='header-n561' class='md-header-anchor '></a>设置主机名和hosts映射</h3><p>指令hostname ： 查看主机名</p><p>修改主机名：vi /etc/hostname（重启生效）</p><p>设置hosts映射：通过主机名能够找到某个linux系统。</p><p>windows
在C:\Windows\System32\drivers\etc\hosts文件指定：</p><p>linux 在/etc/hosts文件中指定：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n567" mdtype="fences">192.168.0.104 hostname
</pre><h3><a name='header-n568' class='md-header-anchor '></a>Hosts、DNS</h3><p>用户在浏览器输入<a href='http://www.baidu.com' target='_blank' class='url'>www.baidu.com</a>：</p><p>1) 浏览器先检查浏览器缓存中有没有该域名解析 IP 地址，有就先调用这个IP完成解析；如果没有，就检查DNS解析器缓存，如果有直接返回IP完成解析。这两个缓存，可以理解为本地解析器缓存</p><p>2) 一般来说，当电脑第一次成功访问某一网站后，在一定时间内，浏览器或操作系统会缓存他的IP地址（DNS解析记录）。</p><p>ipconfig/displaydns：DNS域名解析缓存</p><p>ipconfig /flushdns：手动清理dns缓存</p><p>3) 如果本地解析器缓存没有找到对应映射，检查系统中hosts文件中有没有配置对应的域名IP映射，如果有，则完成
解析并返回。</p><p>4) 如果本地DNS解析器缓存和hosts文件中均没有找到对应的IP，则到域名服务DNS进行解域。</p><h2><a name='header-n576' class='md-header-anchor '></a>19. 进程管理</h2><p>在 LINUX 中，每个执行的程序都称为一个进程。每一个进程都分配一个ID号(pid，进程号)。</p><h3><a name='header-n578' class='md-header-anchor '></a>显示系统执行进程</h3><p>ps命令是用来查看目前系统中，有哪些正在执行，以及它们执行的状况。可以不加任何参数。</p><p>显示信息：</p><p>PID：进程识别号</p><p>TTY：终端机号</p><p>TIME：此进程所消CPU时间</p><p>CMD：正在执行的命令或进程名</p><p>其他参数：</p><p>ps -a：显示当前终端的所有进程信息</p><p>ps -u：以用户的格式显示进程信息</p><p>ps -x：县设后台进程运行的参数</p><h3><a name='header-n589' class='md-header-anchor '></a>ps指令</h3><p>System V 展示风格：</p><p>USER：进程执行用户名称</p><p>PID：进程号</p><p>%CPU：进程占用 CPU 的百分比</p><p>%MEM：进程占用物理内存的百分比</p><p>VSZ：进程占用的虚拟内存大小（单位：KB）</p><p>RSS：进程占用的物理内存大小（单位：KB）</p><p>TT：终端名称,缩写 </p><p>STAT：进程状态，其中 S-睡眠，S-表示该进程是会话的先导进程，N-表示进程拥有比普通优先级更低的优先级，R- 正在运行，D-短期等待，Z-僵死进程，T-被跟踪或者被停止等等</p><p>STARTED：进程的启动时间</p><p>TIME：CPU 时间，即进程使用 CPU 的总时间</p><p>COMMAND：启动进程所用的命令和参数，如果过长会被截断显示</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n602" mdtype="fences">ps -aux | grep xxxxx
</pre><p>ps -ef：以全格式显示当前所有的进程（-e 显示所有进程 -f 全格式）</p><p>BSD 展示风格：</p><p>UID：用户ID</p><p>PID：进程ID</p><p>PPID：父进程ID</p><p>C：CPU 用于计算执行优先级的因子。数值越大，表明进程是CPU密集型运算，执行优先级会降低；数值越小，表明进程是I/O密集型运算，执行优先级会提高</p><p>STIME：进程启动的时间</p><p>TTY：完整的终端名称</p><p>TIME：CPU 时间</p><p>CMD：启动进程所用的命令和参数</p><h3><a name='header-n613' class='md-header-anchor '></a>kill和killall指令</h3><p>作用：终止进程。</p><p>基本语法：</p><p>kill [选项] 进程号（通过进程号杀死/终止进程）</p><p>killall 进程名称 （通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用）</p><p>常用选项：-9 :表示强迫进程立即停止。</p><p>强制杀掉一个终端：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n620" mdtype="fences">kill -9 bash 对应的进程号
</pre><h3><a name='header-n621' class='md-header-anchor '></a>pstree进程树</h3><p>基本语法：pstree [选项]（可以更加直观的来看进程信息）</p><p>常用选项：</p><p>-p：显示进程的PID</p><p>-u：显示进程的所属用户</p><p><img src='https://img-blog.csdnimg.cn/952bfdf6386045baae475d522c181213.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p></li></ol><h2><a name='header-n627' class='md-header-anchor '></a>20. 服务管理</h2><p>服务(service) 本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其它程序的请求，比如(mysqld , sshd
防火墙等)，又称为守护进程。</p><h3><a name='header-n629' class='md-header-anchor '></a>service指令</h3><p>1) service 服务名 [start | stop | restart | reload | status]</p><p>2) 在CentOS7.0后很多服务不再使用service ，而是 systemctl  </p><p>3) service指令管理的服务在/etc/init.d中查看</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n633" mdtype="fences">service network status
service network stop
service network start
</pre><h3><a name='header-n634' class='md-header-anchor '></a>查看服务名</h3><p>方式 1：使用setup</p><p><img src='https://img-blog.csdnimg.cn/1d33b3fda92d484e88426d19bcb15799.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p><img src='https://img-blog.csdnimg.cn/12961f0c5f0a4c75864a9b95bdec6e34.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>带*号为自启动，space键进行修改，tab键退出。</p><p>方式 2：ls -l /etc/init.d</p><h3><a name='header-n640' class='md-header-anchor '></a>服务的运行级别</h3><p> Linux系统有7种运行级别(runlevel)：常用的是级别3和5</p><p>运行级别 0：系统停机状态，系统默认运行级别不能设为 0，否则不能正常启动</p><p>运行级别 1：单用户工作状态，root 权限，用于系统维护，禁止远程登陆</p><p>运行级别 2：多用户状态(没有 NFS)，不支持网络</p><p>运行级别 3：完全的多用户状态(有 NFS)，无界面，登陆后进入控制台命令行模式</p><p>运行级别 4：系统未使用，保留</p><p>运行级别 5：X11 控制台，登陆后进入图形 GUI 模式</p><p>运行级别 6：系统正常关闭并重启，默认运行级别不能设为 6，否则不能正常启动</p><h3><a name='header-n649' class='md-header-anchor '></a>CentOS7后运行级别说明</h3><p>multi-user.target: analogous to runlevel 3</p><p>graphical.target: analogous to runlevel 5</p><p>init 0</p><p>To view current default target, run:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n654" mdtype="fences">systemctl get-default
</pre><p>To set a default target, run:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n656" mdtype="fences">systemctl set-default TARGET.target
</pre><h3><a name='header-n657' class='md-header-anchor '></a>chkconfig指令</h3><p>通过chkconfig命令可以给服务的各个运行级别设置自启动/关闭</p><p>chkconfig指令管理的服务在 /etc/init.d 查看</p><p>Centos7.0后，很多服务使用systemctl管理 </p><p>chkconfig基本语法：</p><p>1) 查看服务：chkconfig --list [| grep xxx]</p><p>2) chkconfig 服务名 --list</p><p>3) chkconfig --level 5 服务名 on/off</p><p><img src='https://img-blog.csdnimg.cn/8276bc07b68240f89b63f91d7a5ef69a.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>chkconfig重新设置服务后自启动或关闭，需要重启机器reboot生效。</p><h3><a name='header-n667' class='md-header-anchor '></a>systemctl指令</h3><p>基本语法： systemctl [start | stop | restart | status] 服务名</p><p>systemctl指令管理的服务在/usr/lib/systemd/system查看</p><h3><a name='header-n670' class='md-header-anchor '></a>systemctl设置服务的自启动状态</h3><p>systemctl list-unit-files [ | grep 服务名]（查看服务开机启动状态, grep 可以进行过滤）</p><p>systemctl enable 服务名（设置服务开机启动）</p><p>systemctl disable 服务名（关闭服务开机启动）</p><p>systemctl is-enabled 服务名（查询某个服务是否是自启动的）</p><p>查看当前防火墙的状况，关闭防火墙和重启防火墙：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n676" mdtype="fences">firewalld.service
systemctl status firewalld
systemctl stop firewalld
systemctl start firew
</pre><p>关闭或者启用防火墙后，立即生效。这种方式只是临时生效，当重启系统后，还是回归以前对服务的设置。</p><p>如果希望设置某个服务自启动或关闭永久生效，要使用 systemctl [enable|disable] 服务名</p><h3><a name='header-n679' class='md-header-anchor '></a>打开或关闭端口</h3><p>firewall 指令：</p><p>1) 打开端口: firewall-cmd --permanent --add-port=端口号/协议</p><p>2) 关闭端口: firewall-cmd --permanent --remove-port=端口号/协议</p><p>3) 重新载入,才能生效 : firewall-cmd --reload</p><p>4) 查询端口是否开放: firewall-cmd --query-port=端口/协议</p><p>最后执行：firewall-cmd --reload</p><h3><a name='header-n686' class='md-header-anchor '></a>动态监控进程</h3><p>top 与 ps 命令很相似。它们都用来显示正在执行的进程。top在执行一段时间可以更新正在运行的的进程。</p><p>基本语法：top [选项]</p><p>选项说明：</p><p>-d 秒数：指定top命令每隔几秒更新（默认3s）</p><p>-i：使top不显示任何闲置或者僵死进程</p><p>-p：通过指定监控进程id来监控某个进程的状态</p><p>操作说明：</p><p>P：以CPU使用率排序（默认）</p><p>M：以内存使用率排序</p><p>N：以PID排序</p><p>q：退出top</p><p>监视特定用户：top：输入此命令，按回车键，查看执行的进程。
然后输入u，回车，再输入用户名。</p><p>终止指定进程：输入k，回车，输入要结束的进程ID。</p><p>指定系统状态更新的时间：top -d 10</p><h3><a name='header-n701' class='md-header-anchor '></a>监控网络状态</h3><p>系统网络情况：</p><p>基本语法：netstat [选项]</p><p>选项说明：-an 按一定顺序排列输出</p><p>-p 显示哪个进程在调用</p><p>请查看服务名为sshd的服务的信息：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n707" mdtype="fences">netstat -anp | grep sshd
</pre><p> 检测主机连接命令ping：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n709" mdtype="fences">ping www.baidu.com
ctrl+z退出
</pre><h2><a name='header-n710' class='md-header-anchor '></a>21. RPM与YUM</h2><h3><a name='header-n711' class='md-header-anchor '></a>RPM</h3><p>rpm用于互联网下载包的打包及安装工具，它生成具有.RPM 扩展名的文件。类似windows 的setup.exe。</p><h3><a name='header-n713' class='md-header-anchor '></a>rpm包的简单查询指令</h3><p>查询已安装的rpm列表：rpm –qa|grep xx</p><p>举例： 查看当前系统，是否安装了firefox：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n716" mdtype="fences">rpm -qa | grep firefox
</pre><p><img src='https://img-blog.csdnimg.cn/7c187ed2a3fe47089329f352eb73f804.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n718' class='md-header-anchor '></a>rpm包名基本格式</h3><p>rpm包名：firefox-60.2.2-1.el7.centos.x86_64</p><p>名称：firefox</p><p>版本号：60.2.2-1</p><p>适用操作系统：el7.centos.x86_64
表示 centos7.x 的 64 位系统
如果是 i686、i386 表示 32 位系统，noarch表示通用。</p><h3><a name='header-n723' class='md-header-anchor '></a>rpm包的其它查询指令</h3><p>rpm -qa：查询所安装的所有rpm软件包</p><p>rpm -qa | more</p><p>rpm -qa | grep X [rpm -qa | grep firefox]</p><p>rpm -q 软件包名：查询软件包是否安装</p><p>rpm -qi 软件包名：查询软件包信息</p><p>rpm -ql 软件包名：查询软件包中的文件</p><p>rpm -qf 文件全路径名：查询文件所属的软件包</p><h3><a name='header-n731' class='md-header-anchor '></a>卸载rpm包</h3><p>基本语法
rpm -e 包的名称 </p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n733" mdtype="fences">rpm -e firefox
</pre><p>如果其它软件包依赖于您要卸载的软件包，卸载时则会产生错误信息。</p><p>如果就是要删除rpm包，可以增加参数 --nodeps ,强制删除：rpm -e --nodeps firefox</p><h3><a name='header-n736' class='md-header-anchor '></a>安装rpm包</h3><p>基本语法：rpm -ivh RPM包全路径名称</p><p>参数说明：</p><p>i=install：安装</p><p>v=verbose：提示</p><p>h=hash：进度</p><h3><a name='header-n742' class='md-header-anchor '></a>YUM</h3><p>Yum 是一个 Shell 前端软件包管理器。基于RPM包管理，能够从指定的服务器自动下载 RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。</p><p>基本指令：</p><p>查询yum服务器是否有需要安装的软件：yum list|grep xx 软件列表</p><p>安装指定的yum包：yum install xxx 下载安装</p><h2><a name='header-n747' class='md-header-anchor '></a>22. Shell编程</h2><p>Shell是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以
用Shell来启动、挂起、停止甚至是编写一些程序。</p><p>Shell 脚本的执行方式：</p><p>1) 脚本以#!/bin/bash开头</p><p>2) 脚本需要有可执行权限</p><h3><a name='header-n752' class='md-header-anchor '></a>脚本的常用执行方式</h3><p>方式1：(输入脚本的绝对路径或相对路径)</p><p>说明：首先要赋予helloworld.sh脚本的+x权限，再执行脚本
比如./hello.sh或者使用绝对路径 /root/shcode/hello.sh</p><p>方式2：(sh+脚本)</p><p>说明：不用赋予脚本+x权限，直接执行即可。
比如sh hello.sh , 也可以使用绝对路径</p><h3><a name='header-n757' class='md-header-anchor '></a>第一个shell脚本</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n758" mdtype="fences">#!/bin/bash

echo "hello,world"
</pre><p>赋予执行权限：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n760" mdtype="fences">chmod u+x helloworld.sh
</pre><p>执行：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n762" mdtype="fences">./helloworld.sh
sh shellcode/helloworld.sh
</pre><h3><a name='header-n763' class='md-header-anchor '></a>shell变量</h3><p>1) Linux Shell 中的变量分为，系统变量和用户自定义变量。</p><p>2) 系统变量：<code>$HOME</code>、<code>$PWD</code>、<code>$SHELL</code>、<code>$USER</code> 等等，比如： echo $HOME 等等.. </p><p>3) 显示当前shell中所有系统变量：set</p><p>变量定义基本语法：</p><p>1) 定义变量：变量名=值</p><p>2) 撤销变量：unset 变量</p><p>3) 声明静态变量：readonly 变量，注意：不能unset</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n771" mdtype="fences">A=100
echo $A
echo A=$A # A=100
echo "A=$A"

# 撤销变量A
unset A
echo "A=$A" # A=

# 声明静态变量
readonly B=2
echo B=$B # 不能unset B
</pre><p>定义变量的规则：</p><p>1) 变量名称可以由字母、数字和下划线组成，但是不能以数字开头。</p><p>2) <strong>等号两侧不能有空格。</strong></p><p>3) 变量名称一般习惯为大写。</p><p>将命令的返回值赋给变量：</p><p>1) A=<code>date</code> 反引号，运行里面的命令，并把结果返回给变量A</p><p>2) A=$(date)</p><h3><a name='header-n779' class='md-header-anchor '></a>设置环境变量</h3><p>基本语法：</p><p>1) export 变量名=变量值（将shell变量输出为环境变量/全局变量）</p><p>2) source 配置文件（让修改后的配置信息立即生效）</p><p>3) echo $变量名（功能描述：查询环境变量的值）</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n784" mdtype="fences">export TOMCAT_HOME=/opt/tmocat
source /etc/profile
echo $TOMCAT_HOME
</pre><p>shell多行注释：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n786" mdtype="fences">:&lt;&lt;!
注释内容
!
</pre><h3><a name='header-n787' class='md-header-anchor '></a>位置参数变量</h3><p>当我们执行一个shell脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量。比如 ： ./myshell.sh 100 200 , 这个就是一个执行 shell 的命令行，可以在 myshell 脚本中获取到参数信息。</p><p>基本语法： </p><p><code>$n</code> （功能描述：n 为数字，<code>$0</code> 代表命令本身，<code>$1</code>-<code>$9</code> 代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如<code>${10}</code>）。</p><p><code>$*</code> （功能描述：这个变量代表命令行中所有的参数，<code>$*</code>把所有的参数看成一个整体）。</p><p><code>$@</code>（功能描述：这个变量也代表命令行中所有的参数，不过<code>$@</code>把每个参数区分对待）。</p><p><code>$#</code>（功能描述：这个变量代表命令行中所有参数的个数）。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n794" mdtype="fences">echo "1=$1,2=$2"
</pre><h3><a name='header-n795' class='md-header-anchor '></a>预定义变量</h3><p>是shell设计者事先已经定义好的变量，可以直接在shell脚本中使用。</p><p>基本语法：</p><p>1) $$ （功能描述：当前进程的进程号（PID））</p><p>2) <code>$!</code>（功能描述：后台运行的最后一个进程的进程号（PID））</p><p>3) <code>$?</code>（功能描述：最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。）</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n801" mdtype="fences">#!/bin/bash
echo "当前执行的进程id=$$"
# 以后台方式运行脚本，获取进程号
/root/shellcode/helloworld.sh &amp;
echo "最后一个后台方式运行的进程id=$!"
echo "执行结果为$?"
</pre><h3><a name='header-n802' class='md-header-anchor '></a>运算符</h3><p>基本语法：</p><p>1) “<code>$((运算式))</code>”或“<code>$[运算式]</code>”或 expr m + n </p><p>2) 注意 expr 运算符间要有空格， 如果希望将 expr 的结果赋给某个变量，则使用 `` </p><p>3) expr m - n</p><p>4) expr *, /, % 乘，除，取余</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n808" mdtype="fences">#使用第一种方式
RES1=$(((2+3)*4))
echo "res1=$RES1" #使用第二种方式, 推荐使用
RES2=$[(2+3)*4]
echo "res2=$RES2" #使用第三种方式 expr
TEMP=`expr 2 + 3` RES4=`expr $TEMP \* 4` 
echo "temp=$TEMP"
cho "res4=$RES4" 
求出命令行的两个参数[整数]的和：20 50
SUM=$[$1+$2]
echo "sum=$SUM"
</pre><h3><a name='header-n809' class='md-header-anchor '></a>条件判断</h3><p>基本语法：</p><p>[ condition ]（注意condition前后要有空格）
#非空返回 true，可使用$?验证（0为true，&gt;1为false）</p><p>常用判断条件：</p><p>1) = 字符串比较</p><p>2) 两个整数的比较：</p><p>-lt 小于</p><p>-le 小于等于</p><p>-eq 等于</p><p>-gt 大于</p><p>-ge 大于等于</p><p>-ne 不等于</p><p>3) 按照文件权限进行判断：</p><p>-r 有读的权限</p><p>-w 有写的权限</p><p>-x 有执行的权限</p><p>4) 按照文件类型进行判断：</p><p>-f 文件存在并且是一个常规的文件</p><p>-e 文件存在</p><p>-d 文件存在并是一个目录</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n829" mdtype="fences" style="break-inside: unset;">if [ "ok" = "ok" ]
then 
	echo "equal"
fi

if [ 23 -ge 22 ]
then 
	echo "大于"
fi

if [ -f /root/app.txt ]
then
	echo "存在"
fi

if [ text ]
then
	echo "text"
fi
</pre><p><strong>if语句</strong></p><p>基本语法：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n832" mdtype="fences">if [ 条件判断式 ]
then
	代码
fi

if [ 条件判断式 ]
then
	代码
elif [ 条件判断式 ]
then
	代码
fi
</pre><p>注意：[ 条件判断式 ]，中括号和条件判断式之间必须要有空格。</p><p><strong>case语句</strong></p><p>基本语法：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n836" mdtype="fences">case $变量名 in
"值1"）
如果变量的值等于值1，则执行程序1
;;
"值2"）
如果变量的值等于值2，则执行程序2
;;
…省略其他分支…
*）
如果变量的值都不是以上的值，则执行此程序
;;
esac
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n837" mdtype="fences">case $1 in
"1")
	echo "周一"
;;
"2")
	echo "周二"
;;
*)
	echo "其他"
;;
esac
</pre><h3><a name='header-n838' class='md-header-anchor '></a>循环语句</h3><p><strong>for循环</strong></p><p>基本语法：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n841" mdtype="fences">for 变量 in 值 1 值 2 值 3…
do
	执行代码
done
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n842" mdtype="fences">for (( 初始值;循环控制条件;变量变化 )
do
	执行代码
done
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n843" mdtype="fences"># 打印命令行输入的参数
for i in "$*"
do
	echo "param is $i"
done
# "$*"是把输入参数当做一个整体，只会输出一句话

for j in "$@"
do
	echo "param is $j"
done
# 输出多句话
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n844" mdtype="fences">SUM=0
for((i=1; i&lt;=$1; i++))
do
	SUM=$[$SUM+$i]
done
echo "总和SUM=$SUM"
</pre><p><strong>while循环</strong></p><p>基本语法：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n847" mdtype="fences">while [ 条件判断式 ]
do
	执行代码
done
# while 和 [ ，条件判断式 和 [ ] 之间有空格。
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n848" mdtype="fences">SUM=0
i=0
while [ $i -le $1 ]
do
	SUM=$[$SUM+$i]
	# i自增
	i=$[$i+1]
done
echo "总和SUM=$SUM"
</pre><h3><a name='header-n849' class='md-header-anchor '></a>read读取控制台输入</h3><p>基本语法：read(选项)(参数)</p><p>选项：</p><p>-p：指定读取值时的提示符；</p><p>-t：指定读取值时等待的时间（秒），如果没有在指定的时间内输入，就不再等待</p><p>参数：</p><p>变量：指定读取值的变量名</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n856" mdtype="fences">#!/bin/bash
# 读取控制台输入一个NUM1值
read -p "请输入一个数 NUM1=" NUM1
echo "你输入的 NUM1=$NUM1

# 读取控制台输入一个NUM2值，10秒内输入
read -t 10 -p "请输入一个数 NUM2=" NUM2
echo "你输入的 NUM2=$NUM2
</pre><h3><a name='header-n857' class='md-header-anchor '></a>系统函数</h3><p>basename：</p><p>功能：返回完整路径最后/的部分，常用于获取文件名。</p><p>基本语法：</p><p>basename [pathname] [suffix]</p><p>basename [string] [suffix] </p><p>basename命令会删掉所有的前缀包括最后一个/字符，然后将字符串显示出来。</p><p>选项：</p><p>suffix 为后缀，如果suffix被指定，basename会将pathname或string中的suffix去掉。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n866" mdtype="fences">basename /root/app.txt # app.txt
basename /root/app.txt .txt # app
</pre><p>dirname：</p><p>功能：返回完整路径最后/的前面的部分，常用于返回路径部分</p><p>基本语法：</p><p>dirname 文件绝对路径</p><p>从给定的包含绝对路径的文件名中去除文件名（非目录的部分），然后返回剩下的路径（目录的部分）</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n872" mdtype="fences">dirname /root/app.txt # /root
</pre><h3><a name='header-n873' class='md-header-anchor '></a>自定义函数</h3><p>基本语法：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n875" mdtype="fences">[ function ] funname[()]
{
	Action;
	[return int;]
}

# 调用直接写函数名：funname [值]
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n876" mdtype="fences">#定义函数 getSum
function getSum() {
	SUM=$[$n1+$n2]
	echo "和是=$SUM" 
}

#输入两个值
read -p "请输入一个数 n1=" n1
read -p "请输入一个数 n2=" n2

#调用自定义函数
getSum $n1 $n2
</pre><h2><a name='header-n877' class='md-header-anchor '></a>23. Linux高级:日志管理</h2><p>1) 日志文件是重要的系统信息文件，其中记录了许多重要的系统事件，包括用户的登录信息、系统的启动信息、系统
的安全信息、邮件相关信息、各种服务相关信息等。</p><p>2) 日志对于安全来说也很重要，它记录了系统每天发生的各种事情，通过日志来检查错误发生的原因，或者受到攻击
时攻击者留下的痕迹。</p><p>3) 日志是用来记录重大事件的工具。</p><h3><a name='header-n881' class='md-header-anchor '></a>系统常用的日志</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n882" mdtype="fences">ls /var/log
</pre><p><code>/var/log/boot.log：</code>系统启动日志。</p><p><code>/var/log/cron：</code>记录与系统定时任务相关的日志。</p><p><code>/var/log/cups/：</code>记录打印信息的日志。</p><p><code>/var/log/dmesg：</code>记录系统在开机时内核自检的信息。</p><p><code>/var/log/btmp：</code>记录错误登录的日志。是二进制文件，不能直接vi查看，而要用astlog命令。</p><p><code>/var/log/lasllog：</code>记录系统中所有用户最后一次登录时间的日志，是二进制文件。</p><p><code>/var/log/mailog：</code>记录邮件信息日志。</p><p><code>/var/log/message：</code>记录系统重要消息的日志。</p><p><code>/var/log/secure：</code>记录验证和授权方面的信息，只要涉及账户和密码的程序都会记录。</p><p><code>/var/log/wtmp：</code>永久记录所有用户的登录注销信息，同时记录系统的启动重启关机事件，是二进制文件，要使用last命令查看。</p><p><code>/var/tun/ulmp：</code>记录当前已经登录的用户信息，会随着用户的登录和注销不断变化，只记录当前登录用户的信息，要使用w，who，users等命令查看。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n894" mdtype="fences">### rsyslogd日志管理服务
</pre><p><img src='https://img-blog.csdnimg.cn/1a2256f7177e4452ab97218ef28e2e6c.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p>CentOS7.6日志服务是rsyslogd，CentOS6.x日志服务是syslogd。</p><p>查询Linux中的rsyslogd服务是否启动：ps aux | grep &quot;rsyslog&quot; | grep -v &quot;grep&quot;</p><p>查询rsyslogd服务的自启动状态
systemctl list-unit-files | grep rsyslog</p><p>配置文件：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n900" mdtype="fences">vi /etc/rsyslog.conf
</pre><p>编辑文件时的格式为： * . *  存放日志的文件</p><p>第一个 * 代表日志类型，第二个 * 代表日志级别</p><p><img src='https://img-blog.csdnimg.cn/d60f9f54bc1745f78f966c55c17f8558.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><p><strong>1) 日志类型：</strong></p><p>auth<span>	</span>##pam 产生的日志</p><p>authpriv<span>	</span>##ssh、ftp 等登录信息的验证信息</p><p>corn<span>	</span>##时间任务相关</p><p>kern<span>	</span>##内核</p><p>lpr<span>	</span>##打印</p><p>mail<span>	</span>##邮件</p><p>mark(syslog)-rsyslog<span>	</span>##服务内部的信息，时间标识</p><p>news<span>	</span>##新闻组</p><p>user<span>	</span>##用户程序产生的相关信息</p><p>uucp<span>	</span>##unix to nuix copy 主机之间相关的通信</p><p>local 1-7<span>	</span>##自定义的日志设备</p><p>2) 日志级别：</p><p>debug<span>	</span>##有调试信息的，日志通信最多</p><p>info<span>	</span>##一般信息日志，最常用</p><p>notice<span>	</span>##最具有重要性的普通条件的信息</p><p>warning<span>	</span>##警告级别</p><p>err<span>	</span>##错误级别，阻止某个功能或者模块不能正常工作的信息</p><p>crit<span>	</span>##严重级别，阻止整个系统或者整个软件不能正常工作的信息</p><p>alert<span>	</span>##需要立刻修改的信息</p><p>emerg<span>	</span>##内核崩溃等重要信息</p><p>none<span>	</span>##什么都不记录</p><p>从上到下，级别从低到高，记录信息越来越少。</p><p>由日志服务rsyslogd记录的日志文件，日志文件的格式包含以下 4 列：</p><p>1) 事件产生的时间</p><p>2) 产生事件的服务器的主机名</p><p>3) 产生事件的服务名或程序名</p><p>4) 事件的具体信息</p><p><strong>自定义日志服务</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n933" mdtype="fences">vi /etc/rsyslog.conf
*.* /var/log/zlx.log
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n934" mdtype="fences">cat /var/log/zlx.log | grep sshd
</pre><p><img src='https://img-blog.csdnimg.cn/d9dc35e7d4604293aeaa16391a4d954f.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n936' class='md-header-anchor '></a>日志轮替</h3><p>日志轮替就是把旧的日志文件移动并改名，同时建立新的空日志文件，当旧日志文件超出保存的范围之后，就会进行删除。</p><h3><a name='header-n938' class='md-header-anchor '></a>日志轮替文件命名</h3><p>1) centos7使用logrotate进行日志轮替管理，要想改变日志轮替文件名字，通 /etc/logrotate.conf配置文件中“dateext”
参数改动。</p><p>2) 如果配置文件中有“dateext”参数，那么日志会用日期来作为日志文件的后缀，例如“secure-20201010”。这样日
志文件名不会重叠，也就不需要日志文件的改名， 只需要指定保存日志个数，删除多余的日志文件即可。</p><p>3) 如果配置文件中没有“dateext”参数，日志文件就需要进行改名了。当第一次进行日志轮替时，当前的“secure”日志会自动改名为“secure.1”，然后新建“secure”日志， 用来保存新的日志。当第二次进行日志轮替时，“secure.1”
会自动改名为“secure.2”， 当前的“secure”日志会自动改名为“secure.1”，然后也会新建“secure”日志，用来保存新的日志，以此类推。</p><h3><a name='header-n942' class='md-header-anchor '></a>logrotate配置文件</h3><p>/etc/logrotate.conf 为logrotate的全局配置文件。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n944" mdtype="fences" style="break-inside: unset;"># rotate log files weekly, 每周对日志文件进行一次轮替
weekly
# keep 4 weeks worth of backlogs, 共保存 4 份日志文件，当建立新的日志文件时，旧的将会被删除
rotate 4
# create new (empty) log files after rotating old ones, 创建新的空的日志文件，在日志轮替后
create
# use date as a suffix of the rotated file, 使用日期作为日志轮替文件的后缀
dateext
# uncomment this if you want your log files compressed, 日志文件是否压缩。如果取消注释，则日志会在转储的同时进行压缩
#compress
#RPM packages drop log rotation information into this directory
include /etc/logrotate.d
# 包含 /etc/logrotate.d/ 目录中所有的子配置文件。也就 是说会把这个目录中所有子配置文件读取进来，
#下面是单独设置，优先级更高。
# no packages own wtmp and btmp -- we'll rotate them here
/var/log/wtmp {
	monthly # 每月对日志文件进行一次轮替
	create 0664 root utmp # 建立的新日志文件，权限是 0664 ，所有者是 root ，所属组是 utmp 组
	minsize 1M # 日志文件最小轮替大小是 1MB 。也就是日志一定要超过 1MB 才会轮替，否则就算时间达到一个月，也不进行日志转储
	rotate 1 # 仅保留一个日志备份。也就是只有 wtmp 和 wtmp.1 日志保留而已
}
/var/log/btmp {
	missingok # 如果日志不存在，则忽略该日志的警告信息
	monthly
	create 0600 root utmp
	rotate 1
}
</pre><p>参数说明：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n946" mdtype="fences" style="break-inside: unset;">daily：日志的轮替周期是每天
weekly：日志的轮替周期是每周
monthly：日志的轮替周期是每月
rotate 数字：保留的日志文件的个数。0 指没有备份
compress：日志轮替时，旧的日志进行压缩
create mode owner group：建立新日志，同时指定新日志的权限与所有者和所属组。
mail address：当日志轮替时，输出内容通过邮件发送到指定的邮件地址。
missingok：如果日志不存在，则忽略该日志的警告信息
notifempty：如果日志为空文件，则不进行日志轮替
minsize 大小：日志轮替的最小值。也就是日志一定要达到这个最小值才会轮替，否则就算时间达到也不轮替
size 大小：日志只有大于指定大小才进行日志轮替，而不是按照时间轮替。
dateext：使用日期作为日志轮替文件的后缀。
sharedscripts：在此关键字之后的脚本只执行一次。
prerotate/endscript：在日志轮替之前执行脚本命令。
postrotate/endscript：在日志轮替之后执行脚本命令。
</pre><h3><a name='header-n947' class='md-header-anchor '></a>加入日志轮替</h3><p>1) 第一种方法是直接在/etc/logrotate.conf配置文件中写入该日志的轮替策略</p><p>2) 第二种方法是在/etc/logrotate.d/目录中新建立该日志的轮替文件，在该轮替文件中写入正确的轮替策略，因为该目录中的文件都会被“include”到主配置文件中，所以也可以把日志加入轮替。</p><p>3) 推荐使用第二种方法，因为系统中需要轮替的日志非常多，如果全都直接写入/etc/logrotate.conf配置文件，那么这个文件的可管理性就会非常差，不利于此文件的维护。</p><p>4) 在/etc/logrotate.d/ 配置轮替文件一览：</p><p><img src='https://img-blog.csdnimg.cn/397417bd396743308bcae1998ccd694c.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h3><a name='header-n953' class='md-header-anchor '></a>日志轮替机制原理</h3><p>日志轮替之所以可以在指定的时间备份日志，是依赖系统定时任务。在/etc/cron.daily/目录，就会发现这个目录中是有logrotate文件(可执行)，logrotate通过这个文件依赖定时任务执行的。</p><h3><a name='header-n955' class='md-header-anchor '></a>查看内存日志</h3><p>journalctl：查看内存日志，重启后会清空。常用指令：</p><p>journalctl<span>	</span>##查看全部</p><p>journalctl -n 3<span>	</span>##查看最新 3 条</p><p>journalctl --since 19:00 --until 19:10:10<span>	</span>#查看起始时间到结束时间的日志可加日期</p><p>journalctl -p err<span>	</span>##报错日志</p><p>journalctl -o verbose<span>	</span>##日志详细内容</p><p>journalctl _PID=1245 _COMM=sshd<span>	</span>##查看包含这些参数的日志（在详细日志查看）或<code>journalctl | grep sshd</code></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n963" mdtype="fences">journalctl | grep sshd
</pre><p><img src='https://img-blog.csdnimg.cn/6c339573f7ac49dcab533e1184afc312.png' alt='在这里插入图片描述' referrerPolicy='no-referrer' /></p><h2><a name='header-n965' class='md-header-anchor '></a>24. 定制Linux系统</h2><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n966" mdtype="fences">启动流程介绍：
制作 Linux 小系统之前，再了解一下 Linux 的启动流程：
1、首先 Linux 要通过自检，检查硬件设备有没有故障
2、如果有多块启动盘的话，需要在 BIOS 中选择启动磁盘
3、启动 MBR 中的 bootloader 引导程序
4、加载内核文件
5、执行所有进程的父进程、老祖宗 systemd
6、欢迎界面
在 Linux 的启动流程中，加载内核文件时关键文件：
1）kernel 文件: vmlinuz-3.10.0-957.el7.x86_64
2）initrd 文件: initramfs-3.10.0-957.el7.x86_64.img
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n967" mdtype="fences">制作 min linux 思路分析
1) 在现有的 Linux 系统(centos7.6)上加一块硬盘/dev/sdb，在硬盘上分两个分区，一个是/boot，一个是/，并将其格式化。
需要明确的是，现在加的这个硬盘在现有的 Linux 系统中是/dev/sdb，但是，当我们把东西全部设置好时，要把这个
硬盘拔除，放在新系统上，此时，就是/dev/sda
2) 在/dev/sdb 硬盘上，将其打造成独立的 Linux 系统，里面的所有文件是需要拷贝进去的
3) 作为能独立运行的 Linux 系统，内核是一定不能少，要把内核文件和 initramfs 文件也一起拷到/dev/sdb 上
4) 以上步骤完成，我们的自制 Linux 就完成, 创建一个新的 linux 虚拟机，将其硬盘指向我们创建的硬盘，启动即可
5) 示意图
</pre><h2><a name='header-n968' class='md-header-anchor '></a>25. 备份与恢复</h2><p>linux的备份和恢复：把需要的文件(或者分区)用TAR打包就行，下次需要恢复的时候，再解压开覆盖即可。</p><p>安装dump和restor指令：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n971" mdtype="fences">yum -y install dump
yum -y install restore
</pre><h3><a name='header-n972' class='md-header-anchor '></a>使用dump完成备份</h3><p>dump 支持分卷和增量备份（所谓增量备份是指备份上次备份后修改/增加过的文件，也称差异备份）。</p><p>语法说明：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n975" mdtype="fences">dump [ -cu] [-123456789] [ -f &lt;备份后文件名&gt;] [-T &lt;日期&gt;] [ 目录或文件系统]
dump []-wW
-c ： 创建新的归档文件，并将由一个或多个文件参数所指定的内容写入归档文件的开头。
-0123456789： 备份的层级。
0 为最完整备份，会备份所有文件。若指定 0 以上的层级，则备份至上一次备份以来修改或新增的文件, 到 9 后，可以再次轮替.。
-f &lt;备份后文件名&gt;： 指定备份后文件名
-j : 调用 bzlib 库压缩备份文件，也就是将备份后的文件压缩成 bz2 格式，让文件更小
-T &lt;日期&gt;： 指定开始备份的时间与日期
-u ： 备份完毕后，在/etc/dumpdares 中记录备份的文件系统，层级，日期与时间等。
-t ： 指定文件名，若该文件已存在备份文件中，则列出名称
-W ：显示需要备份的文件及其最后一次备份的层级，时间 ，日期。
-w ：与-W 类似，但仅显示需要备份的文件。
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n976" mdtype="fences"># 将/boot 分区所有内容备份到/opt/boot.bak0.bz2 文件中，备份层级为“0”
dump -0uj -f /opt/boot.bak0.bz2 /bo
</pre><h3><a name='header-n977' class='md-header-anchor '></a>使用restore完成恢复</h3><p>restore 命令用来恢复已备份的文件，可以从dump生成的备份文件中恢复原文件。</p><p>基本语法：restore [模式选项] [选项]</p><p>模式选项：一次命令中， 只能指定一种。</p><p>-C ：对比模式，将备份的文件与已存在的文件相互对比。</p><p>-i：交互模式，在进行还原操作时，restors指令将依序询问用户</p><p>-r：还原模式</p><p>-t : 查看模式，看备份文件有哪些文件</p><p>选项：</p><p>-f &lt;备份设备&gt;：从指定的文件中读取备份数据，进行还原操作</p><p>restore命令恢复备份的文件，或者整个目录的文件：</p><p>基本语法： restore -r -f 备份好的文件</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n989" mdtype="fences">mkdir etctmp
cd etctmp/
restore -r -f /opt/etc.bak0.bz2
</pre><h2><a name='header-n990' class='md-header-anchor '></a>26. Linux可视化管理</h2><h3><a name='header-n991' class='md-header-anchor '></a>webmin</h3><h3><a name='header-n992' class='md-header-anchor '></a>bt运维工具</h3><h2><a name='header-n993' class='md-header-anchor '></a>27. Linux面试题</h2><p>&nbsp;</p></div>
</body>
</html>